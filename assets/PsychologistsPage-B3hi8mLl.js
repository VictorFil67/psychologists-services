import{r as c,a as B,b as m,s as I,c as Q,d as V,e as K,f as L,j as d,L as M,g as z}from"./index-ASdjluUE.js";import{u as C,g as A,r as F,q as O,e as G,s as H,o as J,a as R,b as N,F as T,P as U,L as W}from"./usePrevios-C1Te-ORh.js";const Z=({location:a,setCount:k})=>{const[s,x]=c.useState(null),[q,S]=c.useState(!1),r=B(),e=m(I),g=m(Q),t=m(V),o=3;c.useEffect(()=>{g.length===0?S(!0):S(!1)},[g]);const h=C(s),p=h==null?void 0:h.value,P=s==null?void 0:s.value,n=C(a);c.useEffect(()=>{n!==a&&r(K({psychologists:g,sorted:t,page:e}))},[n,a,r,g,t,e,h,x]);const D=c.useCallback(()=>{const l=A(),y=F(l);let f=String(e*o-1),b=String(e*o+o-1);const v=O(y,J(),H(f),G(b));n!==a&&e>0||R(v,j=>{const u=j.val();let i=[];Array.isArray(u)?i=u.splice(u.length-3,3):i=Object.values(u),i.length&&r(L(i))})},[r,e,a,n]),E=c.useCallback(()=>{const l=A(),y=F(l),f=[];if(!(t.length!==0&&p===void 0)&&(t.length===0||p!==P)){const b=Object.values(s)[0].split(" ")[0],v=Object.values(s)[0].split(" ")[1],j=O(y,N(b));R(j,u=>{u.forEach(i=>{const w=i.val();f.push(w)}),v&&f.reverse(),r(z(f))})}},[r,t,s,p,P]);return c.useEffect(()=>{s?E():!s&&!t.length&&D()},[D,E,s,t]),c.useEffect(()=>{if(!(n!==a&&e>0)&&t.length){const l=t.slice(e*o,e*o+o);r(L(l))}},[t,e,r,n,a]),d.jsxs(d.Fragment,{children:[q&&d.jsx(M,{}),d.jsx(T,{selectedOption:s,setSelectedOption:x}),d.jsx(U,{location:a,setCountFavorites:k}),d.jsx(W,{location:a})]})};export{Z as default};
